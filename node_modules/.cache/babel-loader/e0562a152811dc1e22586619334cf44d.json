{"ast":null,"code":"import _slicedToArray from \"/home/bipin/Downloads/team66/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"/home/bipin/Downloads/team66/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/bipin/Downloads/team66/src/components/Dropzone/Dropzone.js\";\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone'; // import {DropzoneArea} from 'material-ui-dropzone'\n\nvar dropzoneStyle = {\n  width: \"100%\",\n  height: \"auto\",\n  borderWidth: 2,\n  borderColor: \"rgb(102, 102, 102)\",\n  borderStyle: \"dashed\",\n  borderRadius: 5\n};\n\nfunction CustomDropzone(props) {\n  var field = props.field,\n      form = props.form,\n      values = props.values,\n      rest = _objectWithoutProperties(props, [\"field\", \"form\", \"values\"]);\n\n  var error = form.touched[field.name] && form.errors[field.name];\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      filename = _useState2[0],\n      setFilename = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      file = _useState4[0],\n      setFile = _useState4[1];\n\n  function handleOnDrop(files, rejectedFiles) {\n    // const curfile = files[0]\n    // setFilename(files[0].name)\n    // form.setFieldValue(field.name, files[0].name)\n    // const reader = new FileReader()\n    // reader.addEventListener(\"load\", () => {\n    //   setFile(reader.result)\n    // }, false)\n    // reader.readAsDataURL(curfile)\n    files.forEach(function (file) {\n      var reader = new FileReader();\n\n      reader.onabort = function () {\n        return console.log('file reading was aborted');\n      };\n\n      reader.onerror = function () {\n        return console.log('file reading has failed');\n      };\n\n      reader.onload = function () {\n        // Do whatever you want with the file contents\n        var binaryStr = reader.result;\n        console.log(binaryStr);\n      };\n\n      reader.readAsArrayBuffer(file);\n    });\n  }\n\n  return React.createElement(Dropzone, {\n    onDrop: handleOnDrop // onChange={(e) => form.setFieldValue(field.name, e)}\n    ,\n    multiple: \"true\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, function (_ref) {\n    var getRootProps = _ref.getRootProps,\n        getInputProps = _ref.getInputProps;\n    return React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"div\", Object.assign({}, getRootProps(), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"input\", Object.assign({}, getInputProps(), {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"Add file\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), filename === \"\" ? \"\" : filename)));\n  });\n}\n\nCustomDropzone.propTypes = {\n  field: PropTypes.objectOf({\n    name: PropTypes.string\n  }).isRequired,\n  form: PropTypes.objectOf({\n    touched: PropTypes.instanceOf(Array),\n    errors: PropTypes.instanceOf(Array)\n  }).isRequired\n};\nexport default CustomDropzone;","map":{"version":3,"sources":["/home/bipin/Downloads/team66/src/components/Dropzone/Dropzone.js"],"names":["React","useState","useContext","PropTypes","Dropzone","dropzoneStyle","width","height","borderWidth","borderColor","borderStyle","borderRadius","CustomDropzone","props","field","form","values","rest","error","touched","name","errors","filename","setFilename","file","setFile","handleOnDrop","files","rejectedFiles","forEach","reader","FileReader","onabort","console","log","onerror","onload","binaryStr","result","readAsArrayBuffer","getRootProps","getInputProps","propTypes","objectOf","string","isRequired","instanceOf","Array"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Dropzone from 'react-dropzone';\n// import {DropzoneArea} from 'material-ui-dropzone'\n\nconst dropzoneStyle = {\n  width: \"100%\",\n  height: \"auto\",\n  borderWidth: 2,\n  borderColor: \"rgb(102, 102, 102)\",\n  borderStyle: \"dashed\",\n  borderRadius: 5,\n}\nfunction CustomDropzone(props) {\n\n  const { field, form,values, ...rest } = props;\n  const error = form.touched[field.name] && form.errors[field.name];\n  const [filename, setFilename] = useState('')\n  const [file, setFile] = useState('')\n\n  function handleOnDrop(files, rejectedFiles) {\n    // const curfile = files[0]\n    // setFilename(files[0].name)\n    // form.setFieldValue(field.name, files[0].name)\n    // const reader = new FileReader()\n    // reader.addEventListener(\"load\", () => {\n    //   setFile(reader.result)\n    // }, false)\n    // reader.readAsDataURL(curfile)\n    files.forEach((file) => {\n      const reader = new FileReader()\n\n      reader.onabort = () => console.log('file reading was aborted')\n      reader.onerror = () => console.log('file reading has failed')\n      reader.onload = () => {\n      // Do whatever you want with the file contents\n        const binaryStr = reader.result\n        console.log(binaryStr)\n      }\n      reader.readAsArrayBuffer(file)\n    })\n  }\n  \n  return (\n    <Dropzone \n    \n      onDrop={handleOnDrop}\n      // onChange={(e) => form.setFieldValue(field.name, e)}\n      multiple=\"true\">\n      {({ getRootProps, getInputProps }) => (\n        <section>\n          <div {...getRootProps()}>\n            <input {...getInputProps()} />\n            <div>Add file<br/>{filename===\"\" ? \"\" : filename}\n          </div>\n          </div>\n        </section>\n      )}\n    </Dropzone>\n  );\n}\n\nCustomDropzone.propTypes = {\n  field: PropTypes.objectOf({\n    name: PropTypes.string,\n  }).isRequired,\n  form: PropTypes.objectOf({\n    touched: PropTypes.instanceOf(Array),\n    errors: PropTypes.instanceOf(Array),\n  }).isRequired,\n};\n\nexport default CustomDropzone;"]},"metadata":{},"sourceType":"module"}